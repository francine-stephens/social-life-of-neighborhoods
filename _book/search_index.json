[["index.html", "The Social Life of Neighborhoods: Data Processing &amp; Mapping Tutorials 1 About", " The Social Life of Neighborhoods: Data Processing &amp; Mapping Tutorials Professor Forrest Stuart, TA: Francine Stephens Last updated: April 20, 2021 1 About The following is a series of tutorials specifically designed for The Social Life of Neighborhoods (SOC 176/SOC 276/AFRICAAM 76B/CSRE 176B/URBANST 179) course. The course assignments and final story map require collecting and analyzing information about neighborhoods and other urban spaces. In the tutorials, you will be introduced to tools that will allow you to gather, process, and visualize data so that you can complete the assignments and create your own story map. No prior experience or familiarity with quantitative data or GIS/spatial software is assumed in the tutorials. If you have some prior experience, you will likely be able to skim over anything that looks familiar and focus on new techniques. These tutorials are a work in progress. Recommendations for improving the content are welcome. If you run across typos, grammatical errors, or confusing language, please send your comments, questions, and feedback to Francine Stephens at fis@stanford.edu. Each tutorial is a chapter in this website. You can navigate through the chapters using the sidebar. At the top of this page, you will see settings options in the navigation bar. Hover over the icons in the top bar to hide the sidebar or change the font and color scheme to your preference. "],["socialexplorer.html", "2 Using Social Explorer 2.1 Accessing Social Explorer Data 2.2 Select a dataset 2.3 Select your geography 2.4 Select your variables 2.5 View &amp; Export data", " 2 Using Social Explorer In this chapter we will cover how to use the Social Explorer data tool to access demographic and social data for your neighborhood and the city that encompasses it. The tool is quite intuitive to use and allows you to quickly acquire current and historical census and demographic data. Although Social Explorer allows users to create maps, we will not use the mapping functionality. We will use a different mapping software - ArcGIS Online (AGO) - that is easier to incorporate into the final ArcGIS Story Map that you will create. AGO and Story Maps software will be introduced in the subsequent tutorials. Social Explorer will be particularly helpful for you as you complete Neighborhood Assignment #1 (especially question #5). This tool may also be useful to you when you complete Neighborhood Assignment #5 in Week 5. A basic outline of the steps you will need to take to complete the assignment are as follows: Log-in to Social Explorer via Stanford Libraries &amp; Stanford credentials Navigate to tables Select a dataset Select a geography Select variables Export data This tutorial will walk through each of the steps using San Francisco as an example city. 2.1 Accessing Social Explorer Data Stanford provides students and staff with access to Social Explorer via an institutional license. All that is required to use Social Explorer is your Stanford key and password. Go to the Stanford Libraries homepage and type Social Explorer into the search bar. The first hit under the Catalog panel is the Social Explorer data tool. Click on the external Social Explorer link at the bottom of the top entry, which is outlined in red in the image below. Stanford library login for Social Explorer You will then be prompted to provide your Stanford credentials. After logging in you should see the Social Explorer home page. Navigate over to the Tables tab in the left-hand sidebar. This is outlined in red in the image below. Social Explorer Home Page 2.2 Select a dataset On the Tables page you will find a list of datasets. As you can see, Social Explorer has a lot of datasets available. For the purposes of assignment #1, you will only need to focus on the American Community Survey (ACS) 5-Year Estimates. Select the down arrow on the right-hand side of the ACS 5-year estimates tab to reveal the years of available data. You will want to use the most recent year of available data, which is listed at the top as the 2015-2019 (5 year Estimate). Click on Begin Report for the 2015-2019 5 year Estimates - this is highlighted in yellow in the image below. Access the 2019 ACS from the Data Tables page Background on ACS Data: The American Community Survey is a demographic survey program conducted by the U.S. Census Bureau that runs all year, every year. It is the yearly counterpart to the decennial census. ACS data, despite its various limitations, is some of the best data researchers and practitioners typically have to understand who is in our urban areas, and how theyre doing in their year-to-year lives. Understanding how to work with this data is critical, and this tutorial will just scratch the surface of learning about ACS/Census data. 2.3 Select your geography Now you can filter down the data to your area of interest. In the case of Assignment #1, question #5, you will want to filter to the city in which your neighborhood is located.1 The steps and image below walk you through how to fill out the geographic options for filtering the data. To do this, first select Place (160 geographic code) in the first drop down menu. Then, in the second drop-down menu, select the state in which your city is located. Finally, select the city in the list of places. Use the key-command Ctrl-F (Command-F on Mac) and type the city name in the search bar to more quickly find and highlight the city in the list of places. Be sure to click on the city after it has been highlighted in the list. After you have clicked on the city, select the Add button below the list. The city should now be in the list of selected geographies. Once you see it in the selected geographies, then click on Proceed to Tables Filter to your geographic area of interest 2.4 Select your variables Now, we are at one of the more exciting parts of the data extraction process - picking variables! For assignment #1, you will want to pick variables that are comparable to the ones in the FFIEC Geocoding Systems report for the census tracts in your neighborhoods (e.g., total population, median family income, racial demographics, housing characteristics - number of housing units, housing tenure, vacant units, etc.). This will allow you to compare and contrast the characteristics of your neighborhood and the city at large. Leave the first drop-down menu for datasets as-is (i.e., Social Explorer Tables: ACS 2019 5 Year Estimates). The second drop-down menu is where you select the variables (or Tables, in Social Explorer terminology). Like before, click on the variable(s) in the list that you want and then select the Add button below. Make sure all of the variables that you want are in the selected variables list. Once the variables are in the list, select the Show results button. The image below gives you an example of what you should see on this screen. Select variables of interest 2.5 View &amp; Export data All of the important data and variable selections have been made, so you are now ready to view your data and use it in your analysis and write-up. Social Explorer gives you multiple export options. When you clicked Show results, you were taken to the report page, which shows in tabular format the breakdown for each of the variables you had selected. This format should be sufficient for comparing the population and housing statistics for the city to your neighborhood. I would recommend saving the report to Social Explorer in case you want to come back to it at a later time. Click on the Save As button in the top right corner of the page (pictured below), and give your report a title. Save your data as a Social Explorer Report Once you have saved the report, one other nice feature is that you can share it with others via a web-link. If you would like to share, click on the icon next to the Save As button and copy the link. If you would prefer to download the data to save it to a local folder on your computer, you will want to select the Excel tab (outlined in red below). Then, you should select both radio boxes under the General options header, which will give you the data in both percent and counts. Finally, you can select which Excel file format version you would prefer to have the data in (.xlsx or .xls). The file will appear in your downloads file for you to view and use as you see fit. Export data as an Excel file Final Note: That rounds out the steps for downloading data in Social Explorer. In the future, you can follow the same set of steps to get census tract data for other types of geographies like census tracts. The same set of steps also apply to working with any of the other datasets should you choose to explore other datasets in the future. If you have questions about any of the steps laid out here or about how to download other types of data in Social Explorer email Francine Stephens at fis@stanford.edu. In future assignments, you may want to filter to the census tracts that comprise your neighborhood. Instead, of selecting the place geography, you would select census tracts and select the census tract identifiers that belong to your neighborhood. "],["ago.html", "3 Intro to ArcGIS Online 3.1 What is GIS? 3.2 Logging In 3.3 The Interface 3.4 Explore Basemaps 3.5 Find our Class Group", " 3 Intro to ArcGIS Online We are now at a point in the course where we get to start mapping. Hurrah! The goal of this tutorial is to introduce ArcGIS Online (AGO), which we will use for all of the assignments that have a mapping component to them. AGO is a web-based alternative to desktop GIS software, so you will not need to install any software on your personal computer. In this introductory tutorial, we will focus upon the fundamental concepts needed to begin using the AGO interface for exploring and analyzing spatial data. 3.1 What is GIS? GIS stands for Geographic Information Systems. Most people think of GIS as a mapping software because maps are the most familiar way of visualizing spatial relationships. However, GIS is more than maps. The maps are just the geographic containers for information about the physical and social world. At its core, GIS is a series of databases that allow users to create, manipulate, and analyze data that has been geographically referenced to the Earths surface. Think of the database side of GIS as multiple spreadsheets containing rows filled with information about the social or physical world (e.g., demographics, crime incidents, weather patterns) that you can organize and categorize, but then also assign specific spatial locations. Once the data are organized in the database, GIS becomes a visualization tool that allows you to view relationships on a map and analyze with spatial methods. Although the visualization side of GIS is the most important for this class, I bring up the database side because it is relevant for importing data into AGO. In order for AGO to properly plot the data we have collected on a map, we will need to make sure that it is formatted in a manner that the database is familiar with. We will carefully walk through the formatting details in the next few chapters. First, lets cover accessing AGO and the layout of the interface. 3.2 Logging In To log into AGO: Go to https://stanford.maps.arcgis.com and click on the Sign In tab at the top right. Click on the Enterprise Login button. Click on the Stanford University button to launch SSO. Continue logging in using the Stanford SSO log-in and authentication. You will be redirected back to Stanford Geospatial Centers AGO Home page, which is shown below. You should now see your username at the top right corner of the page. AGO Home Page 3.3 The Interface Across the top of the AGO Home page, you will see a Tab Bar with tabs for Home, Gallery, Map, Scene, Groups, Content, and Organization. Below the Tab Bar is a gallery featuring many GIS tutorials and resources created by Stanford Geospatial Center staff. Some of these tutorials are linked to the Resources page of this web-book for you to view at your own leisure. In addition to providing good introductory GIS lessons, these tutorials were created using StoryMaps, so viewing them would provide you with an example of what a StoryMap looks and feels like. If you click on the Map tab on the Tab Bar you will be taken you a New map in the Mapviewer. The Mapviewer is where we will be creating our maps. Go ahead and click on the Map tab, so that we can walk through the functions in the Mapviewer. 3.3.1 Components of the Mapviewer The Mapviewer has four main components, which are indicated with speech bubbles in the image below. Main components of the Mapviewer The Map takes up most real-estate on the page. Currently, it just contains a basemap, but as you start to add data, other features will appear. The AGO Map works like most web-based interactive maps, with zooming and panning done using a mouse, or scroll wheel and arrow keys. You can also click on the plus and minus buttons on the top left corner of the map. To the left of the Map is the Content Pane, which will hold your map layers and show the symbology of the layers as a legend. Layers will populate in this pane once we start to add data. Above the Content Pane and Map, shaded in gray are the Toolbar and Search functions. The Toolbar contains the functions you will need to import data layers, style your map, and analyze spatial data. These functions are summarized below from the left to the right side of the t. 3.3.2 The Toolbar Details&gt;Content - Clicking on Details hides or shows the Content pane. The Content pane holds the layers you add to your Map. You can interact with those layers by hovering over the layer name to see the tools available. Add - This button gives you multiple options for importing layers of data to your map. You can import from your computer, the web, or from existing AGO content. We will demonstrate these different import options in subsequent chapters. Basemap - The Basemap option offers a number of global basemap options, including imagery, topography, oceans, and other styled basemaps. Analysis - The Analysis button provides you with multiple geoprocessing tools to analyze your data, including overlay, proximity, network and summary analysis. Some of these tools will be introduced in subsequent chapters. Save - This button allows you to save a new map to your content and save any updates you make to your map. Share - Here, you will find several options for sharing your maps with others. Print - This option creates a printable html version of your map. Use your browsers print dialog for printing. Directions - This option is provides walking and driving times, distances and directions. Measure - Measure distances and areas of features on your map. Bookmarks - Here, you can save locations in your map. These bookmarks are not going to be particularly useful for your web-map, but may be useful when we start working on the StoryMap. Search - You can type the name of a location or a physical street address in the search bar and the map will zoom to the location. 3.4 Explore Basemaps Lets start getting acclimated to AGO by changing the basemap. ArcGIS Online provides multiple basemap options. The basemap provides geographic context for the data layers that you will bring into AGO. Start by zooming into an area of interest. In the GIF below, you will see that I typed San Francisco in the Search bar and zoomed into the city. Then, click on the Basemap button at on the Toolbar. You will see a list of basemap options appear. Select one of the provided basemap layers and watch the new basemap appear on your map. You should also notice that the Contents pane has updated. It should now show the name of the new basemap you selected as a layer. Change the basemap Change the basemap a few times to explore the available basemaps. Then, click on the New Map Tab at the top of the page, to switch to a new map view. The New Map Tab generates a new map frame and basemap for you to start making a new map document. 3.5 Find our Class Group Our class has a group page on AGO. The group is called The Social Life of Neighborhoods. We will use the group page as a repository for data layers that Francine will curate for you. For example, your census tract neighborhood boundaries will be stored here. If your city does not provide crime data that in an exportable format, Francine will scrape the police departments crime web map and store the scraped map layer on the group page for you to add to your map. The next few chapters will review how to access the data layers from our group page. Before you proceed to the next chapter and the Assignment #3 mapping exercise, you need to make sure that you have access to the group page. If you had used AGO in the past, your account was located and added to the group. If you are logging into AGO for the first time, you can find the group and request access to join. The GIF below shows how you can navigate to the Groups Tab on the Tab bar from the Home page. Be sure to select My Organizations Groups on the Groups landing page. In the Search Bar type in the group name, and select it from the list. You should then see an option for requesting membership. Francine will add you after you put in your request. Find the Social Life of Neighborhoods Group Once you have access to the group, continue on to the next chapter to learn how to add new data layers to the basemap. "],["geocoding.html", "4 Geocoding 4.1 What is Geocoding 4.2 Preparing Data for Geocoding 4.3 Geocoding in AGO 4.4 Changing the Symbology 4.5 Plotting Neighborhood Boundaries 4.6 Exporting your map as a PDF", " 4 Geocoding At this point, you should be familiar with the ArcGIS Online Mapping interface. You are now ready to start adding data layers of your own to a basemap. Neighborhood Assignment #3 asks you to create a map of the most important/influential/powerful/interesting non-profit organizations in or near your neighborhood. To do this, we will need to two sources of data - the locations of the non-profits and the neighborhood boundaries. The non-profit locations and neighborhood boundaries will be two separate data layers on your map. We will need to create the non-profit locations data through a process called geocoding. The census tract boundaries of your neighborhood have been provided to you as a layer in our class AGO group. In the sections below, we will walk through geocoding the non-profit locations and accessing the neighborhood boundaries through our groups shared content. 4.1 What is Geocoding Geocoding is the process of transforming a street address to a location on the Earths surface, so that it can be displayed as a point on a map. You can import one street address at a time to geocode or provide multiple addresses at once in a table. Under the GIS hood, the database side of GIS looks up the street address in a street segments data layer and finds the pair of latitude and longitude coordinates that correspond with that street address. Those coordinates are attached as attributes to the street address you provided and plotted as geographic features on the map. The resulting layer of geocoded points can be stylized on a map and analyzed with geoprocessing tools. 4.2 Preparing Data for Geocoding Assignment #3 requires that you have at least 10 non-profits on your map, so we will go ahead and batch geocode all 10 locations at once by recording the addresses in a table. Be sure to follow the GuideStar non-profit look-up tutorial on Canvas to identify your 10 important non-profits. Once you have identified the 10 important non-profits be sure that they have physical street address and not PO box addresses. The geocoder will not recognize PO box mailing addresses. The screenshot below demonstrates an appropriate way of formatting your non-profit data for the geocoder. Format the address data Open up a spreadsheet software of your choice. Then, create a header row at the top of your spreadsheet that has cells for the name of the organization, the Address, City, State, Zipcode, and type of service the organization provides. You do not need to bold the text. I did that just to illustrate that this is a header row that AGO will interpret as the attributes of your data. If you use the same header names for the address components that I have, the AGO geocoder will auto-detect the fields correctly. This will eliminate a couple of mouse-clicks from your workflow. Each row will represent a non-profit that you have selected. Enter the name of the organization. Then, parse out the components of the address, starting with the street address, then the city name, the state abbreviation, and the five digit zipcode. The last column holds a description of the type of service the organization provides. It is okay to use common street type abbreviations in the street name (e.g., St for Street, Ave for Avenue) because the geocoder will recognize them. The service type column is not necessary for geocoding, but it will be helpful when we style the symbology in our map. Symbology is the cartographic term for the icon or shading you use in your map to represent attributes of your data. Once you have entered the address information for your non-profits, save the spreadsheet as a CSV. You are now ready to bring the table of addresses into AGO for geocoding. 4.3 Geocoding in AGO Open up Mapviewer and start with just the basemap. Feel free to change the basemap if you would like. You can also zoom into your neighborhood using any of the Zoom/Pan options or use the Search Bar, which is what I did. When you are ready to upload the non-profit locations, navigate to the Add Button on the Toolbar and follow the steps in the GIF below. Geocoding Select Add layer from File. Find and select the CSV file that you saved with the addresses. Import the layer. You will see an Add CSV Layer dialogue box. Fill out the options as follows: For Locate features by, select the Address or Places radio button. Be sure you are using the ArcGIS World Geocoding Service. For the In option, use the drop down box and find the United States. Finally, review the Field Name from your table and Location Name columns in the table. Make sure that they match up. If you named the columns as I did above, then they should automatically populate as they should. That is, Name should be Not Used; Address should be Address or Place; City should be City; State should be State; and Zip should be Postal. Service is not used. When you are sure that the Table Field Names and Location Field Names match up, select Add Layer. Now you should see the non-profits plotted as points on the map. 4.4 Changing the Symbology Dont leave the non-profit locations as colored dots. Instead, lets style the locations with symbols that reflect the type of service the non-profit provides. This is shown in the GIF above (My apologies for not separating this part in the recording). In part 1, select the field labeled Service in the drop-down menu. Then select the Options button on Types in Part 2. You should see all of the labels for Serve appear next to the colored dots. Click on a colored dot icon, and you should see a dialogue box with other symbol options. Stay in the shape symbol type, and use the drop-down menu to find symbols that would represent the services provided by the non-profits in your neighborhood. When you find an icon you like, you might also want to change the symbol size before you move on to the next symbol. When you are happy with all of your symbols, select Okay and then Done. You should see the Contents pane contains the non-profits data layer. If you click on the Show Legend button underneath the layer name (highlighted in the image below), the icons and labels will appear. Also, if you click on any of the icons on the map, you will see a pop-up emerge for that location. All of the information in your table is contained in the pop-up. These pop-ups will be more relevant later on when we build our story maps. Now, if you are happy with your non-profits, you can now move on to the neighborhood boundaries. Non-profit locations symbology and popups 4.5 Plotting Neighborhood Boundaries The neighborhood boundaries are saved in our class group page - The Social Life of Neighborhoods. We will use the Add Button again to add the layer from our group page. The GIF below shows the steps, which are also written out below. Importing neighborhood boundaries Select Search for Layers. Layers in My Content will be shown first, but you should find the drop-down options and select My Groups. Scroll through the Groups layers to find your neighborhood. Click on the Plus button on the bottom right corner of your neighborhood layer. You can close out the search for layers panel when you see the neighborhood polygon populate on your map and in the Contents pane. The neighborhood is a colored polygon when imported onto the map. We should change the symbology to just show the boundaries and not color the full area of the neighborhood. Click on the Neighborhood layer in the Contents pane, and navigate to the button with three shapes. This is the change style button. Keep the show location only option selected in part 1. In part 2, select Options. Then, click on the symbol to change the symbology. The Fill style will come up first. Select no color option to remove color from the neighborhood area. This will leave the inside of the polygon transparent. Then, select the Outline option and pick a color to outline the neighborhood boundaries. You might also consider changing the heaviness of the line by increasing the line width. When you are happy with the style, select Okay and then Done, to get back to the map and contents pane. Lastly, clean up the name of the layer in the Contents pane. On the layer, click the three horizontal dots button on the layer, which prompts a drop-down list of options. Select rename and change the name. NOTE: The neighborhood boundary files have been named based on this syntax: nhood_name_cityname. If you listed multiple names for your neighborhood, the first name may only be listed in the filename for brevity. The city name may be abbreviated in some instances. If you have trouble finding your neighborhood based with this naming system, open up a new tab in your browser and go to the group page content. The content has been organized, so you can filter to the files that have been categorized as neighborhood boundaries. Scroll through the neighborhood boundaries. You should be able to see the outlines and find the one that looks like your neighborhood. 4.6 Exporting your map as a PDF Update: The assignment instructions have been changed since they were first published. Because exporting the map to a PDF is a little cumbersome, you now have the option of submitting your map as a webmap via a link. The instructions below will guide you through both options. If you click on the Legend button in the Content pane, you will see both layers and the detailed symbology. When you are happy with the look of your map, save the map by going to Save button (the disk) on the Toolbar. You will need to select the Save As option because it is the first time you are saving the map. Give the Map an informative title and a few tags when you are saving it. Saving your map The map is saved to your Content page in AGO. For this assignment, you will also want to export the map as a PDF. This is also a multi-step process that converts your webmap to a web-app and then to a PDF file (I know that seems like a lot of work). The GIF below will walk you through it along with the steps that are written out below. Transform webmap to a web-app Navigate to the Share button (the chain-link icon) on the toolbar. You can ignore the content at the top of the dialogue box. Find and click on the Create a Webb App button toward the bottom of the page. You will be redirected to a new dialgoue box to Create a New Web App. Select the middle tab that says WebAppBuilder. Again, you are redirected to a new dialogue box, but the information in it should look familiar. The boxes should contain the information you included when you saved your webmap. Make sure that the radio box next to the sentence: Share this app in the same way as the map (The Social Life of Neighborhoods) is checked. Then, scroll to the bottom of the page and click get started. Navigate over to the Widget controller on the WebApp Interface. Scroll down the left hand panel to the empty widget place-holders. Click on one of the empty ones. You will be redirected to an array of widgets. Find and select the Print widget. Be sure to select a print option other than Map_Only and to have the Show Legend option selected. Next, add the legend widget to one of the other empty widget containers. Print the webapp as a PDF Select the Print widget icon on the map. Title the map (again). Then select a layout option other than Map_Only. Keep the layout as PDF, and then select print. When the PDF icon shows up on the print panel, select it so that it will open. You can save the PDF and submit it along with your write-up. Your PDF map should look something like this. Make sure that all of the layers are showing up. PDF version of map Dont worry about the strange legend layout in the PDF or if the layout did not zoom in on the extent of your neighborhood as much as the web-map did. The webmap is saved and is what will ultimately be part of your Story Map. You have now completed your first web-map! Way to go! In the next assignment, youll build on these skills with a larger dataset that contains incidents of crime in the city where your neighborhood is located. "],["mapping-crime-data.html", "5 Mapping Crime Data 5.1 Map observations of public order theory 5.2 Import Crime Data &amp; Spatially Reduce 5.3 Visualizing Crime Distribution &amp; Concentration 5.4 Filter Crime Data by Attributes 5.5 Final Map Products", " 5 Mapping Crime Data In Assignment #4, we will be adding more points to our map! We will map elements of social order/disorder in the neighborhood. By the end of the tutorial you will have produced a map or series of maps that include a new layer containing locations exemplifying the theory of public order that you have chosen as well as new layers for the crime incidents in your neighborhood. Go ahead and pull up your map from Assignment #3 in AGO, so we can step through the process of creating the new layers. 5.1 Map observations of public order theory The guidelines for Assignment #4 ask you to record locations from your observations that exemplify one of the theories of public order that you read about in the weekly readings. Record those locations in a spreadsheet and geocode them following the steps for geocoding. You can style the symbols of the point locations as we did for the organizations in Assignment #3. If you want to be a little fancy and use symbols that better represent the elements that you observed in your neighborhood, then follow the instructions/GIF below for importing custom symbols. Otherwise, go ahead and proceed to the Import Crime Data &amp; Spatially Reduce section. 5.1.1 Importing Custom Symbols Before opening up the change style option, go ahead and find or create an image that you would like to use as an icon for your geocoded locations. The image needs to meet two criteria: Be in png format (AGO says that it will read jpg, but I have not had any luck successfully reading in a JPG). The pixel size needs to be at most 120px x 120px. When you have located your image, copy the URL of the image. Here is the link to the URL for the image of eyes on the street that I used on my map. Once you have that URL ready, follow the steps in the GIF/written out below. Note for creating your own image: If you have used graphics software to create and save the image locally on your computer. You will need to host it on the web. The easiest way to do this is to save the image to your Google drive and setting the sharing privileges to public, so that AGO can read the link. Adding Custom Symbols In the change symbols menu, find and select the Custom Images option in the drop-down box. Select the underlined text that says, Use an Image, which prompts a text entry box to appear. Paste your images URL in the box and click the blue plus sign next to the text box. Your image will appear as a tiny icon at the top of the symbols menu and below the drop-down box. Resize your icon with the slider/pixel box, and when you are happy with how it looks, select Okay twice. At that point, you should see the icon on your map and in the legend. 5.2 Import Crime Data &amp; Spatially Reduce We are now ready to add the crime data as a layer to our map. You do not need to go fetch the crime data for your city because it is stored in the Crime data folder of our Class AGO page. These data have been formatted in a way that will make your experience filtering by crime attributes much easier. Navigate to the Add Layer tab, and select Search for Layers. Make sure that you are searching for the layer from My Groups. In the search bar, type in the name of your city and crime, (e.g., San Francisco Crime) and the layer of crime incidents should populate. Add that layer to the map. You should see points representing the crime incidents in your city. Below is a screenshot of what the layer looks like for San Francisco. The number of points you see will vary based on the city and how the data were collected. City-level crime incidents You will see crime incidents both in and outside of your neighborhood boundaries. Because we are interested in spatial patterns of crime within the neighborhood, we need to spatially reduce the crimes to the extent of the neighborhood boundaries. We will do this by using a technique called a spatial join. Click on the Analysis Tab on the toolbar to open up the analysis operations in your content panel. Next, select the Summarize Data category, and then click on the Join Features operation. To perform the spatial join, follow GIF/steps written below: Spatial reduction of crimes to the neighborhood Set the Target layer to be the crime incident points. The target layer is the layer that we are trying to reduce. Next, set the Join layer to be the neighborhood boundaries layer. This is the extent of our area of interest for our crime incidents. Specify the Join Type as Choose a spatial relationship and select Completely Within from the drop-down box. This tells AGO that we want to select only the crime incidents that lie completely within the neighborhood boundaries. Specify the Join Operation as One to One. This defines the spatial join in binary times: crime incidents are assigned to the neighborhood if they fall within its boundaries or they are assigned to outside the boundary if they fall outside of it. Leave the other fields in #4 as they are. Give the new layer that you are about to create an informative name. Keep the radio box for Use Current Map Extent checked. Run the analysis. If your neighborhood is in a major city, you will have hundreds of thousands of points, so the analysis tool will take a while to perform the reduction and add the layer to your map. Just be patient. Once the layer is added, you will see the crime incidents that are within your neighborhood as shown in the image below. City-level crime incidents To see the number of crime incidents in your neighborhood, click on the Table button in the contents pane underneath your crime layers-name. You will see a table appear at the bottom of your screen like in the screen shot below. At the top of the table, in parentheses, the number of features tells you how many crime incidents are in your neighborhood. There are 769 crime incidents in Excelsior. The number of rows in the table match the number of features, which tells you that each row in the table represents a crime incident and the columns in this table contain descriptive information about each crime. We will return to this table and the descriptive attributes when we walk through the steps for filtering by attribute. To hide the table and just see your map in the map viewer, click on the X in the upper-right corner of the table or click on the table button in the contents pane again. Crime incident attribute table preview Be sure to check out the information about your crime data layer. This can be found by navigating to the layer in the content page in our Group. You will find important information like the time span of your crime data and the attribute (i.e., variable) definitions. At this point, it is a good idea to save a new map with your work. Go ahead and remove the geocoded city-level crime incidents layers using by clicking on the three blue dots icon below the layer and selecting the remove layer option. Then, go to the Save icon in the toolbar and select Save As. Save this new map with an informative title, summary, and some tags. You can continue working off of this map for the next few steps of this assignment. 5.3 Visualizing Crime Distribution &amp; Concentration We have the points on the map representing crime incidents, but these points are not really indicative of point patterns when they are symbolized in this manner. There are two things to take note of when looking at the points as they currently plotted. First, the points tend to show up at very particular points on the road network: street intersections or at the mid-point of a street segment. Why is this? Police departments provide the spatial locations for the crime incidents with blurred addresses or blurred coordinates. Blurring means that give you an approximate location. The department uses the nearest street intersection or midpoint to the actual address of the crime incident or the midpoint of the street segment. Alternatively, if they do not provide the address, but the geographic coordinates, they blur the coordinates by truncating the number of decimal places in the longitude and latitude. Blurring is done as a privacy control to minimize the risk of identifying individuals or establishments involved in the incident. The type and degree of blurring differs across cities. San Franciscos blurring is pretty high. Some of you may find your citys blurring practice is a little looser. The second thing you should notice is that the map does not clearly represent multiple incidents that may have occurred in a single location with this type of symbology. At the moment, the only way you can tell whether multiple incidents occurred at a given location is by clicking on a crime point and reading the pop-up box content. As shown in the GIF below, when you look at the pop-up box, you can see the number of records listed and flip through them. This interactive pop-up box tells us a little bit about the number crime incidents occurred in the location (or, really nearby this intersection/mid-point of the street), but we want this information about the concentration and distribution of crime incidents to be seen discerned with the symbology. Lets walk through two approaches for doing aggregating and visualizing points. Pop-up boxes show the number of crimes at a location 5.3.1 Clustered Point Map If your neighborhood has very few crime incidents and there are not locations where of multiple crimes have occurred, then simply adding the points to the map and cleaning up the symbology to a manner that looks pleasing is fine. You do not need to worry about creating a clustered point map or the two maps covered in the next two sub-sections. Just experiment with the **location only symbology to find a color/shape style that you like to find and then skip down to the section on disaggregating the crime data by attribute. But, if you have many incidents in your neighborhood and there are locations where multiple crime incidents have occurred, then a clustered point map would be a useful visual. Lets walk through the steps to cluster the points. Start by navigating to the Change style button underneath your neighborhood crime layer. Cluster crime point locations Select Show location Only as the attribute that you want to show on your map. If your crime incidents are already styled as location only and not types, then skip this step and go to step 2i Select Location (Single symbol) as the drawing style. If you would like to change the symbology, go into the options and select the icon/add a custom icon that you would like to represent crime locations on your map. Select done, and then look at the options on your neighborhood crime incident point layer. You should see a blue dot - this is the cluster option. Click on the Cluster option. Your points will automatically be resized because the clustering tool is pulling together point locations that are nearby and aggregating them. The automatic re-size setting will likely over-aggregate and leave you with very few points on your map that are quite large. Move the cluster size option to the left on the slider to re-size the clusters and have more showing. You should play around with this a little bit until you are happy with the way the clusters reflect the distribution of point locations in your crime dataset. Then, go to the drop-down box for Pop-up Contents Display and select the option *a list of field attributes.** Click the attribute Number of features clustered. And select okay. Now, when you click on any of the clustered points, the pop-up will tell you the number of crime incidents that occurred at that cluster location. Click okay and interact with your clustered points. You may notice that these clustered points cover or overlap with some of the other layers in our map, especially if the clusters are large. If this is the case, Try rearranging the drawing order of the layers in your contents pane by moving the clustered crime points below the point layers that you geocoded. If that does not help, you can also keep the clustered points as the top layer and just increase the transparency of the symbols in the change style options window, so that you can see through the crime cluster points. Check out the legend on your map now that you have created the clustered points. Legend for the clustered crime points The crime clusters have been drawn as graduated symbols on the legend. You can see how the symbol sizes correspond with the frequency of crimes - larger the symbol the more crimes that occurred in that area. This type of clustering and aggregating visualization technique is helpful given that the crime incident data that we have are blurred to approximate locations. 5.3.2 Heat Map The cluster map provides a very general sense of the distribution of crime incidents, however you might be looking for a visual that can convey the concentration of incidents in space. This is where a density or heat map can be useful! This map is good for drawing attention to where points are concentrated the most. Where the color is hot, the incidents are concentrated the most, and where the color is cold there are fewer or no incidents occurring. In other GIS software, we would have to compute a density map to get a heat map, but AGO has a heat map symbology style built into its drawing styles. Navigate to the Change style button on the crime layer. Then, view the steps in the GIF and written out below. Create a Heat map Set Show location only in the first drop-down box as the attribute to show. Select the Heat map drawing style. If you want to adjust the transparency, color-scheme, or the scale of the high-low legend, click on the Options button and adjust those settings as you see fit. If not, click Okay and notice how the crime incidents have been represented now. The visual is no longer a set of points, but a smoothed raster with colors ranging from light blue, which represents low frequency of incidents,to yellow representing areas with high frequencies. Zoom in and out of your neighborhood and you will notice that the visualization change. When the layer is zoomed out, the entire area is very hot and pointless to view. But, as you zoom in on the layer, the heat map becomes less developed as some of the raster cells disappear. When you zoom in even more, the layer starts to look more like points along the intersections. The redrawing makes heat maps a source only for reference, but not for in-depth analyzing. Before you move on to creating additional layers, be sure to Save all of these new layers to your map. Now, we can move from aggregation to mapping some disaggregated characteristics of crime incidents in your neighborhood. 5.3.3 Hot Spots [Optional] If you want to know whether the concentration of crime incidents in certain parts of the neighborhood is distributed in a non-random fashion, then we need to use a spatial statistics tool. Performing spatial statistics is not required for this assignment. IThis is included just in case it is of interest. If you have fewer than 60 crime incidents in your neighborhood or are not interested in including spatial statistics at this time, jump down to the disaggregating the crime data by attribute section. What makes a hot spot map different from a heat map? The short answer is statistics! A heat map maps how concentrated points are across the space in your viewing frame, but a hot spot map compares how concentrated points are in sub-regions of the area of interest (e.g., neighborhood) to how concentrated points would be if the points were distributed in a completely random manner across the area of interest. From the map, you can see which regions have more or less incidents than we would expect if the crime generating process was completely random. The hot spots indicate regions where the frequency of crimes is higher than we would expect if crime was randomly distributed across the neighborhood. Cold spots would represent regions with frequencies that are lower than expected if crime was randomly distributed across the neighborhood. The darker the shading indicates higher levels of statistical confidence in the hot spot estimates. As you might guess, the tool we need is the Hot Spot Analysis. This tool will aggregate to a series of small polygons that cover the area of our neighborhood. Aggregating to small polygons makes sense given that the points were blurred by the police department and represent the approximate locations of crimes. Thus, the polygons can represent the potential area where the incidents may have occurred. The hot spot analysis will output a map of hot spots and cold spots, if there are any in your dataset. Use the hot spot analysis tool Return to the Analysis tab on the toolbar, and then select the Analyze Patterns category. Open up the Find Hot Spots tool and fill in the tool parameters as follows: The layer you will use to calculate hot spots is the neighborhood crime incidents layers. Set the clusters of high and low values to Point counts. This tells AGO to just calculate the points per area, not any of the numeric attributes of the crime points. You need to specify to count points within either Fishnet grid or a Hexagon grid. The grid is going to include the units for aggregating - either rectangles or hexagons. Hexagons are good if you have a curvature in your neighborhood boundaries or roadway networks like in this example. If your neighborhood is more square/rectangular in shape, then the fishnet grid would be more ideal. If you have an irregularly shaped neighborhood and are unsure which type of grid to use, the hexagon would probably be a better option for you. However, feel free to run it one way and then repeat the analysis with the other grid and compare. More likely than not, you will not see substantial differences, which means you can opt for whichever one you prefer. If the outputs differ noticeably, reach out to Francine to discuss this. In the field labeled: Define where points are possible, select the neighborhood boundaries. You can leave the Divide by field as None. If you want to set it to population, feel free, but AGOs population normalization tends to work better at higher levels of geography like zipcodes, cities, and counties. You do not need to set any of the options. AGO tends to do a decent job at guessing an appropriate cell size. Give the new layer that you are about to create an informative name. Leave the radio box for Use current map extent checked. Finally, click Run Analysis. AGO will output two items for you. You will see the hot spot layer with the grid you selected and shaded based on statistically significant hot and cold spots populate on your map. You will also get a report with specific details about the hot spot analysis, including the dimensions of the grid cells, the scale, and the number of hot spots. Crime hot-spots map layer I am not including any information about how to clean up the styling of the hot spot map because my guess is that the clustered points or the heat map are sufficient evidence to lean on in your write-up. If you find that the hot spots are helpful for conveying the points you are trying to make in your assignment write-up, and want help with the styling contact Francine or come to office hours. Be sure to Save all of these new layers to your map. Now we can move from aggregation to mapping some disaggregated characteristics of crime incidents in your neighborhood. 5.4 Filter Crime Data by Attributes In addition to mapping all of the crime incidents in your neighborhood, Assignment #4 asks you to dive a little deeper into at least one characteristic of the crime data. Whenever you start to analyze particular attributes or subcategories of a dataset this is referred to as disaggregation. We are going to do this in AGO using the filtering options in the attribute table. Before you head over to the attribute table of the crime incident data in your neighborhood, you need to take a look at your data to see what characteristics you have available. Police departments do not have a standardized way of releasing their data to the public. Looking over your dataset will give you a sense of your attribute options. There are two ways to take a look at your data. The first way is more cursory, and the second way is a little more detailed and will make the filtering process a bit easier. The second option is recommended. Go to the content page for your crime layer to see the list of attributes and the variable names they are given. Some data layers also have links to the metadata from the police department. These metadata offer more detailed definitions of the attributes. If you have questions about your attributes and what they mean, send your questions to Francine. To take a closer, more hands-on look at your data, you will want to export the neighborhood crime incident layer data as a CSV that you can open up in Excel or Google Sheets on your computer. The plus side of this approach is that you can practice filtering different attributes in the spreadsheet on your computer. When you go to the filtering tool in AGO you will know what text to type into the filters to reduce the data points down to the attributes that you care about. Navigate to the Analysis tab and follow the steps below to extract your neighborhood-level crime data to a CSV: Export your neighborhood crime data to a CSV Note: In the GIF, you might notice that I have switched back to the heat map layer and moved it to be above the other layers (i.e., eyes on the street, organizations, and hot spot). I did this just for ease. Moving it up in the contents pane brings it toward the top of the drop-down box options. Also, turning this layer on and the hot spots off was just a way to remind myself that this is the layer with the full layer of crime incident points that I want to pull down in the CSV. Select the Manage Data category and the Extract Data tool. Specify the Neighborhood-level Crime Data layer (i.e., the layer drawn as a heat map) as the layer to extract. Set the Study Area as Same as your neighborhood boundaries Keep the radio button for Select features checked. Leave the Output format as CSV. Give the Output file an informative name. Keep the radio box for Current extent checked, and click on Run Analysis You should now be able to open up the CSV in a spreadsheet software and examine the attributes. The next two sections will demonstrate filtering for two different attributes - day and type of crime. 5.4.1 By Day of the Week The day of the week that the incident occurred is one attribute in all of your crime datasets. We can use an attribute filter to reduce the crimes to that occurred on a particular day. Lets say that I conducted my observations in Excelsior. I could set the day of the week filter to Friday to only have crimes that took place on a Friday. Find the column name for the day of the week attribute (e.g., incident_day_of_week), and then follow the steps shown in the GIF and written out below: Example of filtering by the day of the week. Before applying the filter, copy the heat-map layer with your neighborhoods crime incidents. You can do this by clicking on the three blue dots below your layer and selecting the copy-option. Click on the *attribute table** button below this copied layer. Select Filter in the drop-down menu options in the top right corner of the attribute table preview. In the first drop-down menu, find and select the name of the day of the week field (i.e., variable) in your dataset. Keep the middle drop-down menu set to is. (Think of is as signifying day of the week is equal to) In the third drop-down menu, type in the name of the value you are interested in mapping. In this case, that is crimes that occurred on a Friday. Click on Apply Filter. Notice that the number of features in the attribute table preview has decreased. Close out the attribute table preview. Notice that your map has changed. The high heat areas may reduce in intensity or disappear all together. You should inspect your map for patterns, and try visualizing using the clustered points and heat map like we did with the full dataset in the previous sections. Pay attention to how this particular set of crimes compared to the full set of crimes and how it compares to the elements of public order/disorder that you observed during your walk through the neighborhood or on Google Street View. It is possible to go another step in disaggregating your data. For example, some of you will also have time-stamps on your crime incident data. You could add another expression in the filter window and set the drop-down menus in that second filter to the specific time period when you conducted your observations (e.g., between 7pm and 8pm). The next example will show the process for setting multiple expressions in a filter, but with type of crime attributes. 5.4.2 By Type of Crime Another type of characteristic you might be interested in is the type of crime. In my observations, I identified some public spaces where I found many eyes on the street. These tended to be in public spaces that the Excelsior community has spent a lot of time beautifying and renovating, so Im interested in whether crimes labeled as vandalism are distant from the eyes on the street or if they are co-located. Most datasets only classify crimes with a single variable (e.g., crime_type, crime_description, crime_category). However, some datasets have classify crime types with multiple variables. This is the case for San Francisco, so I need to use two crime-type variables - the crime category and crime subcategory to pull the vandalism crimes that I am interested in. Specifically, I need to filter for the incident_category value: Malicious Mischief and the sub-category value: Vandalism. The date filter from the previous section was cleared, so the GIF starts from the heat map of the full set of incidents. Also, notice how the raster of the heat map became much sparser. This because the filter left us with 40 incidents. The other thing to note is that I renamed the filtered layer at the end with a new, more informative label. This is important for the legend label. Example of filtering by type of crime with two filter expressions As mentioned in the previous section, you would want to explore which visualization technique is sensible your filtered points - Location only, Clustered points, or heat-mapping. Once you have chosen the characteristic you want to focus on - day, time, or some attribute of the crime - and created your filtered view and visualization, do not forget to Save your map. If you would like, go ahead and use the Save As option and give the new map an informative title/summary based on the filtering option you used. This will come in handy for the map products you turn in and later on when we make the Story Map. 5.5 Final Map Products This tutorial walked you through creating multiple layers. For both aesthetic and readability reasons, it is not necessarily ideal to show all of the layers that you created on the same map at once. Assignment #4 does not require that you use all of these map layers in your write-up. Instead, you might consider using a couple of maps to reveal the patterns (or lack thereof) that you find compelling or surprising and want to discuss in your write-up. I could see one map for showing the general/aggregated distribution of crime incidents with layers for your social order/disorder elements and key organizations. The second map would feature the disaggregated crime characteristics that you chose to focus on (e.g., type of crime) alongside layers for your social order/disorder elements and key institutions. This is where the comment above about Saving As after making the filtered map comes in handy. For the map with the generalized/aggregated crime data, you do not need to have both the clustered points layer and the heat map layer layer visible. Even if you have all of these layers turned on, it may be hard to view them together. Determine which visualization style better supports the patterns you are discussing in your write-up. The clustered point map may be good if you have many points that co-occur (either in the spot or near one another) and your neighborhood has a small areal extent. The heat map is good for conveying generalized/high-level patterns. For example, if you are focused on broad regional differences within your neighborhood (e.g., the difference in crime prevalence between areas east and west of Main Street), then the heat map may be a good choice. On the other hand, if you want to quantify differences in crime incidents at a finer-grained spatial level, then the clustered/graduated symbol map would be the better option. The hot spot map DOES NOT need to be included in your write-up. If you have a lot of crime incidents in your neighborhood and want to make a statement about statistically significant patterns of crime in your neighborhood, you can use the map layer or just reference it in your write-up. Just know that even if an area does not have a statistically significant hot or cold spot, it does not mean there are not meaningful or substantively interesting patterns occurring there. There are plenty of patterns in the real world that are not statistically significant, but still compelling/interesting/surprising. To conclude, the map products you choose to submit should be the ones that most effectively convey the argument you are trying to make about how crime patterns in your neighborhood compare to the theoretical ideas about public order/disorder that you read about this week. But, dont delete or forget to save the map layers that you do not submit! It is possible that those layers may work better for the Story Map that you will create later this quarter. Hopefully you enjoyed getting to try out different visualization approaches this week. Next week we will have another opportunity to play with visualization strategies when we map segregation trends and changes in racial composition within the neighborhood. "],["mapping-segregation.html", "6 Mapping Segregation", " 6 Mapping Segregation Will be published for the start of week 5. "],["mapping-gentrification.html", "7 Mapping Gentrification", " 7 Mapping Gentrification Tutorial will be published for the start of week 7. "],["globalization-migration-flow-maps.html", "8 Globalization &amp; Migration Flow Maps", " 8 Globalization &amp; Migration Flow Maps Tutorial will be published for the start of week 9. "],["resources.html", "9 Resources 9.1 ArcGIS Online 9.2 StoryMaps", " 9 Resources This page contains helpful resources for mapping, data visualization, and spatial analysis. Check back frequently as the page will be updated throughout the quarter. 9.1 ArcGIS Online Intro to ArcGIS Online - Stanford Geospatial Center StoryMap 9.2 StoryMaps Intro to StoryMaps - Stanford Geospatial Center "]]
